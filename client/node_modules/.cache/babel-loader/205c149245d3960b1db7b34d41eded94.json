{"ast":null,"code":"var _jsxFileName = \"/home/premtsd/mern_personal_blog-master/client/src/routes/article/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Style from \"./Article.module.css\";\nimport Blogheader from \"../../components/blogheader/index\";\nimport ReactMarkdown from \"react-markdown\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\n\nconst Article = () => {\n  let history = useHistory();\n  const [article, setArticle] = useState({});\n  const {\n    slug\n  } = useParams();\n  useEffect(() => {\n    getDataBySlug(slug);\n  }, [slug]);\n\n  const getDataBySlug = async slug => {\n    try {\n      const res = await axios.get(`https://rhodlib-blog.herokuapp.com/api/post/${slug}`);\n      setArticle(res.data);\n    } catch (err) {\n      console.log({\n        error: err\n      });\n    }\n  };\n\n  const deleteArticle = async id => {\n    if (window.confirm(\"Do you wanna delete this article?\")) {\n      try {\n        axios.defaults.headers.common[\"Authorization\"] = sessionStorage.token;\n        await axios.delete(`https://rhodlib-blog.herokuapp.com/api/delete/${id}`);\n        history.push(\"/\");\n      } catch (err) {\n        console.log({\n          error: err\n        });\n      }\n    }\n  };\n\n  const editDeleteArticle = id => {\n    if (sessionStorage.token) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: Style.buttons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => deleteArticle(id),\n        className: Style.linkButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      }, \"Delete\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => history.push(`/edit/${slug}`),\n        className: Style.linkButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }\n      }, \"Edit\"));\n    }\n  };\n\n  const renderMarkdown = () => {\n    if (article.markdown === undefined) {\n      return /*#__PURE__*/React.createElement(SkeletonTheme, {\n        color: \"#161f27\",\n        highlightColor: \"#324759\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        count: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(ReactMarkdown, {\n        className: Style.markdown,\n        source: article.markdown,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: Style.article,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: Style.controlHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Blogheader, {\n    image: article.image,\n    title: article.title,\n    description: article.description,\n    createdAt: article.createdAt,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), editDeleteArticle(article._id)), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }), renderMarkdown());\n};\n\nexport default Article;","map":{"version":3,"sources":["/home/premtsd/mern_personal_blog-master/client/src/routes/article/index.js"],"names":["React","useEffect","useState","useHistory","useParams","axios","Style","Blogheader","ReactMarkdown","Skeleton","SkeletonTheme","Article","history","article","setArticle","slug","getDataBySlug","res","get","data","err","console","log","error","deleteArticle","id","window","confirm","defaults","headers","common","sessionStorage","token","delete","push","editDeleteArticle","buttons","linkButton","renderMarkdown","markdown","undefined","controlHeader","image","title","description","createdAt","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,kBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,OAAOC,QAAP,IAAmBC,aAAnB,QAAwC,wBAAxC;;AAEA,MAAMC,OAAO,GAAG,MAAM;AACpB,MAAIC,OAAO,GAAGT,UAAU,EAAxB;AACA,QAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAWX,SAAS,EAA1B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,aAAa,CAACD,IAAD,CAAb;AACD,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;;AAIA,QAAMC,aAAa,GAAG,MAAOD,IAAP,IAAgB;AACpC,QAAI;AACF,YAAME,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAW,+CAA8CH,IAAK,EAA9D,CAAlB;AACAD,MAAAA,UAAU,CAACG,GAAG,CAACE,IAAL,CAAV;AACD,KAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,QAAAA,KAAK,EAAEH;AAAT,OAAZ;AACD;AACF,GAPD;;AASA,QAAMI,aAAa,GAAG,MAAOC,EAAP,IAAc;AAClC,QAAIC,MAAM,CAACC,OAAP,CAAe,mCAAf,CAAJ,EAAyD;AACvD,UAAI;AACFtB,QAAAA,KAAK,CAACuB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiDC,cAAc,CAACC,KAAhE;AACA,cAAM3B,KAAK,CAAC4B,MAAN,CAAc,iDAAgDR,EAAG,EAAjE,CAAN;AACAb,QAAAA,OAAO,CAACsB,IAAR,CAAa,GAAb;AACD,OAJD,CAIE,OAAOd,GAAP,EAAY;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY;AAAEC,UAAAA,KAAK,EAAEH;AAAT,SAAZ;AACD;AACF;AACF,GAVD;;AAYA,QAAMe,iBAAiB,GAAIV,EAAD,IAAQ;AAChC,QAAIM,cAAc,CAACC,KAAnB,EAA0B;AACxB,0BACE;AAAK,QAAA,SAAS,EAAE1B,KAAK,CAAC8B,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,OAAO,EAAE,MAAMZ,aAAa,CAACC,EAAD,CAD9B;AAEE,QAAA,SAAS,EAAEnB,KAAK,CAAC+B,UAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAOE;AACE,QAAA,OAAO,EAAE,MAAMzB,OAAO,CAACsB,IAAR,CAAc,SAAQnB,IAAK,EAA3B,CADjB;AAEE,QAAA,SAAS,EAAET,KAAK,CAAC+B,UAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,CADF;AAgBD;AACF,GAnBD;;AAqBA,QAAMC,cAAc,GAAG,MAAM;AAC3B,QAAIzB,OAAO,CAAC0B,QAAR,KAAqBC,SAAzB,EAAoC;AAClC,0BACE,oBAAC,aAAD;AAAe,QAAA,KAAK,EAAC,SAArB;AAA+B,QAAA,cAAc,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAE,EAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKD,KAND,MAMO;AACL,0BACE,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAElC,KAAK,CAACiC,QAAhC;AAA0C,QAAA,MAAM,EAAE1B,OAAO,CAAC0B,QAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;AACF,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAEjC,KAAK,CAACO,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAEP,KAAK,CAACmC,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAE5B,OAAO,CAAC6B,KADjB;AAEE,IAAA,KAAK,EAAE7B,OAAO,CAAC8B,KAFjB;AAGE,IAAA,WAAW,EAAE9B,OAAO,CAAC+B,WAHvB;AAIE,IAAA,SAAS,EAAE/B,OAAO,CAACgC,SAJrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAOGV,iBAAiB,CAACtB,OAAO,CAACiC,GAAT,CAPpB,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAWGR,cAAc,EAXjB,CADF;AAeD,CAhFD;;AAkFA,eAAe3B,OAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Style from \"./Article.module.css\";\nimport Blogheader from \"../../components/blogheader/index\";\nimport ReactMarkdown from \"react-markdown\";\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\";\n\nconst Article = () => {\n  let history = useHistory();\n  const [article, setArticle] = useState({});\n  const { slug } = useParams();\n\n  useEffect(() => {\n    getDataBySlug(slug);\n  }, [slug]);\n\n  const getDataBySlug = async (slug) => {\n    try {\n      const res = await axios.get(`https://rhodlib-blog.herokuapp.com/api/post/${slug}`);\n      setArticle(res.data);\n    } catch (err) {\n      console.log({ error: err });\n    }\n  };\n\n  const deleteArticle = async (id) => {\n    if (window.confirm(\"Do you wanna delete this article?\")) {\n      try {\n        axios.defaults.headers.common[\"Authorization\"] = sessionStorage.token;\n        await axios.delete(`https://rhodlib-blog.herokuapp.com/api/delete/${id}`);\n        history.push(\"/\");\n      } catch (err) {\n        console.log({ error: err });\n      }\n    }\n  };\n\n  const editDeleteArticle = (id) => {\n    if (sessionStorage.token) {\n      return (\n        <div className={Style.buttons}>\n          <button\n            onClick={() => deleteArticle(id)}\n            className={Style.linkButton}\n          >\n            Delete\n          </button>\n          <button\n            onClick={() => history.push(`/edit/${slug}`)}\n            className={Style.linkButton}\n          >\n            Edit\n          </button>\n        </div>\n      );\n    }\n  };\n\n  const renderMarkdown = () => {\n    if (article.markdown === undefined) {\n      return (\n        <SkeletonTheme color=\"#161f27\" highlightColor=\"#324759\">\n          <Skeleton count={15} />\n        </SkeletonTheme>\n      );\n    } else {\n      return (\n        <ReactMarkdown className={Style.markdown} source={article.markdown} />\n      );\n    }\n  };\n\n  return (\n    <div className={Style.article}>\n      <div className={Style.controlHeader}>\n        <Blogheader\n          image={article.image}\n          title={article.title}\n          description={article.description}\n          createdAt={article.createdAt}\n        />\n        {editDeleteArticle(article._id)}\n      </div>\n      <hr />\n      {renderMarkdown()}\n    </div>\n  );\n};\n\nexport default Article;\n"]},"metadata":{},"sourceType":"module"}